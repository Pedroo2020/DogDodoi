create table tutor (
    ID_TUTOR INT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    Nome VARCHAR(100) NOT NULL,
    Endereco VARCHAR(150),
    Telefone VARCHAR(15),
    Email VARCHAR(100)
);

create table paciente (
    ID_PACIENTE INT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    Nome VARCHAR(100) NOT NULL,
    Especie VARCHAR(50) NOT NULL,
    Raca VARCHAR(50),
    Idade INT,
    Peso NUMERIC(3,2),
    ID_TUTOR INT,
    FOREIGN KEY (ID_TUTOR) REFERENCES tutor (ID_TUTOR)
);

create table veterinario (
    ID_VETERINARIO INT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    Nome VARCHAR(100) NOT NULL,
    Especialidade VARCHAR(100),
    Telefone VARCHAR(15),
    Email VARCHAR(100)
);

create table agendamento (
    ID_AGENDAMENTO INT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    Data_hora TIMESTAMP NOT NULL,
    Motivo VARCHAR(255),
    ID_PACIENTE INT,
    FOREIGN KEY (ID_PACIENTE) REFERENCES paciente (ID_PACIENTE),
    ID_VETERINARIO INT,
    FOREIGN KEY (ID_VETERINARIO) REFERENCES veterinario (ID_VETERINARIO)
);

create table medicamentos (
    ID_MEDICAMENTO INT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    Nome VARCHAR(100) NOT NULL,
    Descricao VARCHAR(255),
    Preco DECIMAL(10,2)
);

create table receita (
    ID_RECEITA INT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    Data_emissao DATE NOT NULL,
    ID_AGENDAMENTO INT,
    FOREIGN KEY (ID_AGENDAMENTO) REFERENCES agendamento (ID_AGENDAMENTO)
);

create table itens_de_receita (
    ID_ITEM_RECEITA INT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    Quantidade INT NOT NULL,
    Dosagem VARCHAR(50),
    ID_RECEITA INT,
    FOREIGN KEY (ID_RECEITA) REFERENCES receita (ID_RECEITA),
    ID_MEDICAMENTO INT,
    FOREIGN KEY (ID_MEDICAMENTO) REFERENCES medicamentos (ID_MEDICAMENTO)
);